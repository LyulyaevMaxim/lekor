"use strict";

(function () {
  calculateRatings();

  function calculateRatings() {
    var ratingsDistribution = $("ratings-distribution"),
        allVotes = parseFloat(ratingsDistribution.attr("all-votes")),
        receivedVotes = 0,
        widthProgressBar = 0;

    ratingsDistribution.find("rating-block").each(function () {
      receivedVotes = parseFloat($(this).attr("receive-votes"));
      widthProgressBar = parseFloat(receivedVotes / allVotes * 100);

      if (widthProgressBar > 0) {
        $(this).find("progress-bar").css("width", widthProgressBar + "%");
      } else {
        $(this).find("progress-bar").hide();
      }
    });
  }
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRlbnQvcmF0aW5nL3JhdGluZy5qcyJdLCJuYW1lcyI6WyJjYWxjdWxhdGVSYXRpbmdzIiwicmF0aW5nc0Rpc3RyaWJ1dGlvbiIsIiQiLCJhbGxWb3RlcyIsInBhcnNlRmxvYXQiLCJhdHRyIiwicmVjZWl2ZWRWb3RlcyIsIndpZHRoUHJvZ3Jlc3NCYXIiLCJmaW5kIiwiZWFjaCIsImNzcyIsImhpZGUiXSwibWFwcGluZ3MiOiI7O0FBQUEsQ0FBQyxZQUFXO0FBQ1ZBOztBQUVBLFdBQVNBLGdCQUFULEdBQTRCO0FBQzFCLFFBQUlDLHNCQUFzQkMsRUFBRSxzQkFBRixDQUExQjtBQUFBLFFBQ0VDLFdBQVdDLFdBQVdILG9CQUFvQkksSUFBcEIsQ0FBeUIsV0FBekIsQ0FBWCxDQURiO0FBQUEsUUFFRUMsZ0JBQWdCLENBRmxCO0FBQUEsUUFHRUMsbUJBQW1CLENBSHJCOztBQUtBTix3QkFBb0JPLElBQXBCLENBQXlCLGNBQXpCLEVBQXlDQyxJQUF6QyxDQUE4QyxZQUFXO0FBQ3ZESCxzQkFBZ0JGLFdBQVdGLEVBQUUsSUFBRixFQUFRRyxJQUFSLENBQWEsZUFBYixDQUFYLENBQWhCO0FBQ0FFLHlCQUFtQkgsV0FBV0UsZ0JBQWdCSCxRQUFoQixHQUEyQixHQUF0QyxDQUFuQjs7QUFFQSxVQUFJSSxtQkFBbUIsQ0FBdkIsRUFBMEI7QUFDeEJMLFVBQUUsSUFBRixFQUNHTSxJQURILENBQ1EsY0FEUixFQUVHRSxHQUZILENBRU8sT0FGUCxFQUVnQkgsbUJBQW1CLEdBRm5DO0FBR0QsT0FKRCxNQUlPO0FBQ0xMLFVBQUUsSUFBRixFQUNHTSxJQURILENBQ1EsY0FEUixFQUVHRyxJQUZIO0FBR0Q7QUFDRixLQWJEO0FBY0Q7QUFDRixDQXhCRCIsImZpbGUiOiJjb250ZW50L3JhdGluZy9yYXRpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gIGNhbGN1bGF0ZVJhdGluZ3MoKTtcblxuICBmdW5jdGlvbiBjYWxjdWxhdGVSYXRpbmdzKCkge1xuICAgIGxldCByYXRpbmdzRGlzdHJpYnV0aW9uID0gJChcInJhdGluZ3MtZGlzdHJpYnV0aW9uXCIpLFxuICAgICAgYWxsVm90ZXMgPSBwYXJzZUZsb2F0KHJhdGluZ3NEaXN0cmlidXRpb24uYXR0cihcImFsbC12b3Rlc1wiKSksXG4gICAgICByZWNlaXZlZFZvdGVzID0gMCxcbiAgICAgIHdpZHRoUHJvZ3Jlc3NCYXIgPSAwO1xuXG4gICAgcmF0aW5nc0Rpc3RyaWJ1dGlvbi5maW5kKFwicmF0aW5nLWJsb2NrXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICByZWNlaXZlZFZvdGVzID0gcGFyc2VGbG9hdCgkKHRoaXMpLmF0dHIoXCJyZWNlaXZlLXZvdGVzXCIpKTtcbiAgICAgIHdpZHRoUHJvZ3Jlc3NCYXIgPSBwYXJzZUZsb2F0KHJlY2VpdmVkVm90ZXMgLyBhbGxWb3RlcyAqIDEwMCk7XG5cbiAgICAgIGlmICh3aWR0aFByb2dyZXNzQmFyID4gMCkge1xuICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgLmZpbmQoXCJwcm9ncmVzcy1iYXJcIilcbiAgICAgICAgICAuY3NzKFwid2lkdGhcIiwgd2lkdGhQcm9ncmVzc0JhciArIFwiJVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcylcbiAgICAgICAgICAuZmluZChcInByb2dyZXNzLWJhclwiKVxuICAgICAgICAgIC5oaWRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pKCk7XG4iXX0=
